# Ensure EB/ALB health checks to '/' succeed even though the app is mounted at /api.
# This file must be included within a `server {}` block; Elastic Beanstalk includes
# files under conf.d/elasticbeanstalk/ in the server context.
location = / {
    proxy_pass http://127.0.0.1:5000/api/health;
}

# Some EB configurations use '/health' for target/instance health checks.
location = /health {
    access_log off;
    add_header Content-Type text/plain;
    return 200 'ok';
}
